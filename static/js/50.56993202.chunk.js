"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[50],{5050:function(e,n,r){r.r(n),r.d(n,{default:function(){return x}});var t=r(3430),s=r(9608),c=r(2791),i=r(9434),a=r(5789),u="chatPage_userName__xDHkn",o="chatPage_photo__zw1sX",l=r(184),d=function(){var e=(0,i.I0)(),n=(0,i.v9)((function(e){return e.chat.status}));return(0,c.useEffect)((function(){return e((0,a.WE)()),function(){e((0,a.R7)())}}),[]),(0,l.jsxs)("div",{children:["error"===n&&(0,l.jsx)("div",{children:"Some error occurred. Please refresh the page"}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h,{}),(0,l.jsx)(v,{})]})]})},h=function(){var e=(0,i.v9)((function(e){return e.chat.messages})),n=(0,c.useRef)(null),r=(0,c.useState)(!0),s=(0,t.Z)(r,2),a=s[0],u=s[1];return(0,c.useEffect)((function(){var e;a&&(null===(e=n.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]),(0,l.jsxs)("div",{style:{height:"400px",overflowY:"auto"},onScroll:function(e){var n=e.currentTarget;Math.abs(n.scrollHeight-n.scrollTop-n.clientHeight)<300?!a&&u(!0):a&&u(!1)},children:[e.map((function(e){return(0,l.jsx)(f,{message:e},e.id)})),(0,l.jsx)("div",{ref:n})]})},f=c.memo((function(e){var n=e.message;return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:u,children:n.userName}),(0,l.jsx)("img",{className:o,src:n.photo,alt:"photos"}),(0,l.jsx)("div",{children:n.message})]})})),v=function(){var e=(0,c.useState)(""),n=(0,t.Z)(e,2),r=n[0],u=n[1],o=(0,i.I0)(),d=(0,i.v9)((function(e){return e.chat.status}));return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:(0,l.jsx)("textarea",{onChange:function(e){return u(e.currentTarget.value)},value:r})}),(0,l.jsx)("div",{children:(0,l.jsx)(s.Z,{variant:"contained",disabled:"ready"!==d,onClick:function(){r&&(o((0,a.bG)(r)),u(""))},children:"Send"})})]})},x=function(){return(0,l.jsx)("div",{children:(0,l.jsx)(d,{})})}}}]);
//# sourceMappingURL=50.56993202.chunk.js.map