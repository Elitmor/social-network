"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[206],{1206:function(e,n,s){s.r(n),s.d(n,{default:function(){return V}});var t=s(2791),r=s(9434),i=s(7689),a=s(7437),o=s(1851),l=s(8489),c=s(1686),u=s(1747),d=s(9608),f=s(6644),x=s(6916),h=function(e){return e.profilePage},j=(0,x.P1)([h],(function(e){return e.posts})),p=(0,x.P1)([h],(function(e){return e.profile})),m=(0,x.P1)([h],(function(e){return e.status})),v={textarea:"myPosts_textarea__IEqql",btn:"myPosts_btn__vl206"},b=s(9956),_="post_post__I4HSx",g="post_avatar__By7gP",k="post_message__akqbW",I="post_like__2RtdF",N=s(184),Z=function(e){return(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("img",{className:g,src:b.Z,alt:"avatar"}),(0,N.jsx)("span",{className:k,children:e.message}),(0,N.jsxs)("span",{className:I,children:["like ",e.likesCount]})]})},S=function(){var e=(0,r.I0)(),n=(0,r.v9)((function(e){return j(e)})),s=(0,f.cI)(),t=s.register,i=s.handleSubmit,a=s.reset,x=n.map((function(e){return(0,N.jsx)(Z,{id:e.id,message:e.message,likesCount:e.likesCount},e.id)}));return(0,N.jsxs)("div",{className:v.posts,children:[(0,N.jsxs)("form",{onSubmit:i((function(n){e(o.Nw.addPostAC(n.textarea)),a()})),children:[(0,N.jsx)(u.Z,(0,l.Z)({className:v.textarea,placeholder:"Enter your message"},t("textarea"))),(0,N.jsx)(d.Z,{className:v.btn,variant:"contained",type:"submit",endIcon:(0,N.jsx)(c.Z,{}),children:"Add post"})]}),x]})},y={},F=s(3430),C=s(3954),w=s(7166),A=s(3032),P={form:"profileDataForm_form__tq4R8",formSection:"profileDataForm_formSection__K2+x7"},E=function(e){var n=e.defaultValues,s=e.onSubmit,r=(0,f.cI)({defaultValues:n}),i=r.register,a=r.handleSubmit,o=(0,t.useState)([]),c=(0,F.Z)(o,2),x=c[0],h=c[1],j=function(){var e=(0,A.Z)((0,w.Z)().mark((function e(n){return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(n);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),e.t0.response&&e.t0.response.data&&e.t0.response.data.messages?h(e.t0.response.data.messages):h(["An error occurred. Please try again."]);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(n){return e.apply(this,arguments)}}();return(0,N.jsxs)("form",{className:P.form,onSubmit:a(j),children:[(0,N.jsxs)("div",{className:P.formSection,children:[(0,N.jsx)("h4",{children:"Full Name"}),(0,N.jsx)("label",{children:(0,N.jsx)("input",(0,l.Z)({placeholder:"Full Name"},i("fullName")))})]}),(0,N.jsxs)("div",{className:P.formSection,children:[(0,N.jsx)("h4",{children:"Job Information"}),(0,N.jsxs)("label",{children:[(0,N.jsx)("input",(0,l.Z)({type:"checkbox"},i("lookingForAJob"))),"Looking for a job"]}),(0,N.jsx)("label",{children:(0,N.jsx)(u.Z,(0,l.Z)({placeholder:"Job Description"},i("lookingForAJobDescription")))})]}),(0,N.jsxs)("div",{className:P.formSection,children:[(0,N.jsx)("h4",{children:"About Me"}),(0,N.jsx)("label",{children:(0,N.jsx)("input",(0,l.Z)({placeholder:"About Me"},i("aboutMe")))})]}),(0,N.jsxs)("div",{className:P.formSection,children:[(0,N.jsx)("h4",{children:"Contacts"}),Object.keys(n.contacts).map((function(e){return(0,N.jsx)("div",{children:(0,N.jsxs)("label",{children:[(0,N.jsxs)("b",{children:[e,": "]}),(0,N.jsx)("input",(0,l.Z)({placeholder:e},i("contacts.".concat(e))))]})},e)}))]}),x.length>0&&(0,N.jsx)("div",{className:P.errorMessages,children:x.map((function(e,n){return(0,N.jsx)("p",{children:e},n)}))}),(0,N.jsx)(d.Z,{variant:"contained",type:"submit",children:"Save"})]})},M={profileInfo:"profileInfo_profileInfo__sY2db",title:"profileInfo_title__YRYI1",inputFile:"profileInfo_inputFile__2TmIZ"},O=function(e){var n=(0,t.useState)(!1),s=(0,F.Z)(n,2),i=s[0],a=s[1],l=(0,t.useState)(""),c=(0,F.Z)(l,2),u=c[0],d=c[1],f=(0,r.I0)(),x=(0,r.v9)(m);(0,t.useEffect)((function(){x!==u&&d(x)}),[x]),(0,t.useEffect)((function(){f((0,o.lR)(e.userId))}),[f,e.userId]);return(0,N.jsx)("div",{children:i?(0,N.jsx)("input",{type:"text",value:u,onBlur:function(){a(!1),u!==x&&f((0,o.Nf)(u))},autoFocus:!0,onChange:function(e){d(e.currentTarget.value)}}):(0,N.jsx)("div",{onClick:function(){a(!0)},children:u||"-------"})})},J=function(e){var n=(0,r.I0)(),s=(0,r.v9)(p),i=(0,r.v9)(a.n5),l=(0,t.useState)(!1),c=(0,F.Z)(l,2),u=c[0],d=c[1],f=function(e){d(e)};return s?(0,N.jsxs)("div",{className:M.profileInfo,children:[(0,N.jsx)("h3",{className:M.title,children:"My posts"}),(0,N.jsx)("img",{className:M.avatar,src:s.photos.small||b.Z,alt:"avatar"}),e.isOwner?(0,N.jsx)("input",{className:M.inputFile,type:"file",onChange:function(e){e.target.files&&e.target.files.length&&n((0,o.Ju)(e.target.files[0]))}}):null,i===s.userId?(0,N.jsx)(O,{userId:s.userId}):null,u?(0,N.jsx)(E,{defaultValues:s,onSubmit:function(e){n((0,o.Ii)(e)),f(!1)}}):(0,N.jsx)(T,{profile:s,isOwner:e.isOwner,goToEditMode:function(){f(!0)}})]}):(0,N.jsx)(C.p,{})},T=function(e){var n=e.isOwner,s=e.goToEditMode,t=e.profile;return(0,N.jsxs)("div",{children:[n?(0,N.jsx)(d.Z,{variant:"contained",onClick:s,children:"Edit"}):null,(0,N.jsxs)("div",{children:[(0,N.jsx)("b",{children:"FullName: "}),t.fullName]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("b",{children:"Looking for a job: "}),t.lookingForAJob?"yes":"no"]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("b",{children:"Skills: "}),t.lookingForAJobDescription]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("b",{children:"About me: "}),t.aboutMe]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("b",{children:"Contacts"}),Object.keys(t.contacts).map((function(e){return(0,N.jsx)(D,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})]})},D=function(e){var n=e.contactTitle,s=e.contactValue;return(0,N.jsxs)("div",{children:[(0,N.jsxs)("b",{children:[n,": "]}),s]})},V=function(){var e=(0,r.I0)(),n=(0,i.UO)().userId,s=(0,i.s0)(),l=(0,r.v9)(a.n5),c=(0,t.useCallback)((function(){s("/login")}),[s]);return(0,t.useEffect)((function(){var s=n||l;s?e((0,o.et)(s)):c()}),[n,l,e,c]),(0,N.jsxs)("div",{className:y.profile,children:[(0,N.jsx)(J,{isOwner:!n}),(0,N.jsx)(S,{})]})}}}]);
//# sourceMappingURL=206.f82f4a2a.chunk.js.map